\begin{quantikz}[row sep=0.5cm,column sep=0.3cm]
            \lstick[1]{\begin{tabular}{@{}c@{}}Left singular \\ vector register\end{tabular}} & \qwbundle{} & \gate[3]{\text{Prepare } |\mathcal{A}\rangle}\slice{$|\psi_1\rangle$} & & & & \\
            \lstick[1]{\begin{tabular}{@{}c@{}}Right singular \\ vector register\end{tabular}} & \qwbundle{} & & \gate[6]{QtSVE}\slice{$|\psi_2\rangle$} & & \gate[6]{QtSVE^\dagger}\slice{$|\psi_4\rangle$} & \\
            \lstick[1]{Face register} & \qwbundle{} & & & & & \\
            \lstick[1]{Walk operator face register} & \qwbundle{} & & & & & \\
            \lstick[1]{Walk operator lsv register} & \qwbundle{} & & & & & \\
            \lstick[1]{Phase register} & \qwbundle{} & & & & & \\
            \lstick[1]{Abs Phase register} & \qwbundle{} & & & \gate[2]{\text{Truncate}}\slice{$|\psi_3\rangle$} & & \\
            \lstick[1]{Flag qubit} & & & & & & \rstick{$|0\rangle$}
        \end{quantikz}