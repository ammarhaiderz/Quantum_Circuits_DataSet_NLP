\begin{quantikz}
      \lstick{Input register: $\sum_x \sqrt{\dis(x)} \ket{x}$}  &[-2mm] \qw \slice[style=black]{$\pst{0}$} & \gate[wires=3]{\ora^{\pm}} & \qw \slice[style=black]{$\pst{1}$} &  \ \ldots\ \qw & \gate[wires=3]{\ora^{\pm}} & \qw \slice[style=black]{$\pst{T}$} & \qw & [-5mm]  \\
      \lstick{Value register: \hspace{1.65cm} $\ket{0}$}  & \gate[wires=2]{U_0} & \qw & \gate[wires=2]{U_1} &  \ \ldots\ \qw & \qw & \gate[wires=2]{U_T} & \qw & \meter{} \rstick{\text{Output}} \\
      \lstick{Index register: \hspace{1.65cm} $\ket{0}$} & \qw & \qw & \qw & \ \ldots\ \qw & \qw & \qw & \qw & \qw
    \end{quantikz}