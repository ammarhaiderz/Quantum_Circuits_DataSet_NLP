\Qcircuit @R=1em @C=1em {
& & & & \lstick{\reg{K}}
    & \gate{\Add(-1)}
    & \qw
    & \qw
    & \qw
    & \qw \\
& & & & \lstick{\reg{H}}
    & \qw
    & \qswap
    & \gate{U^\dagger}
    & \qswap
    & \qw \\
& \gate{U^\dagger} & \qw & \push{\rule{.3em}{0em}\mapsto\rule{2em}{0em}} &
    & \qw
    & \qswap \qwx
    & \qw
    & \qswap \qwx
    & \qw \\
& \ctrl{-1} & \qw & &
    & \ctrl{-3}
    & \ctrl{-1}
    & \qw
    & \ctrl{-1}
    & \qw
}