\Qcircuit @C=1.0em @R=0.2em @!R { \\
\nghost{{q}_{0} :  } & \lstick{{q}_{0} :  } & \ctrl{1} & \ctrl{2} & \qw  &\ctrl{3} & \qw    & \qw      & \ctrl{3}          & \qw & \ctrl{2} & \ctrl{1} & \qw & \qw\\
\nghost{{q}_{1} :  } & \lstick{{q}_{1} :  } & \targ    & \qw      &  \qw &\qw      & \qw    & \ctrlo{1}               & \qw & \qw &  \qw & \targ & \qw & \qw\\
\nghost{{q}_{2} :  } & \lstick{{q}_{2} :  } & \qw      & \targ    &  \qw &\qw      & \qw    & \ctrlo{1}                & \qw & \qw &  \targ & \qw & \qw & \qw\\
 &  &   &    &  \raisebox{0.5em}{\vdots} & \qwx[1]   & \raisebox{0.5em}{\vdots} & \qwx[1]     & \qwx[1]       & \raisebox{0.5em}{\vdots} &   &   & &   \\
 %test
% \nghost{{q}_{3} :  }&    &   &    &   & \qwx[1]   &  & \qwx[1]     & \qwx[1]       &  &   &   & &   \\
\nghost{{q}_{3} :  } & \lstick{{q}_{s_1-1} :  } & \qw & \qw & \qw & \targ & \qw & \ctrlo{2} & \targ  &  \qw & \qw & \qw & \qw & \qw\\
% 第二部分
\nghost{{q}_{4} :  } & \lstick{{q}_{s_1} :  } & \ctrl{1} & \ctrl{2} &  \qw &\ctrl{3} & \qw  & \qw & \ctrl{3}& \qw &  \ctrl{2} & \ctrl{1} & \qw & \qw\\
\nghost{{q}_{5} :  } & \lstick{{q}_{s_1+1} :  } & \targ & \qw &  \qw &\qw & \qw & \ctrlo{1} & \qw  & \qw &  \qw & \targ & \qw & \qw\\
\nghost{{q}_{6} :  } & \lstick{{q}_{s_1+2} :  } & \qw & \targ &  \qw &\qw & \qw & \ctrlo{1}  & \qw &  \qw & \targ & \qw & \qw & \qw\\
 &   &   &    & \raisebox{0.5em}{\vdots} & \qwx[1]   & \raisebox{0.5em}{\vdots} & \qwx[1]     &\qwx[1]  &  \raisebox{0.5em}{\vdots} &  &   & &   \\
\nghost{{q}_{7} :  } & \lstick{{q}_{s_2-1} :  } & \qw & \qw & \qw & \targ & \qw & \ctrlo{2} & \targ  & \qw & \qw & \qw & \qw & \qw\\
% 省略号
&   &\text{\scriptsize{other cases}}  &    &   \raisebox{0.5em}{\vdots} & &  \raisebox{0.5em}{\vdots} & \qwx[1]     &  & \raisebox{0.5em}{\vdots} &  &   & &   \\
% 第三部分
\nghost{{q}_{8} :  } & \lstick{{q}_{s_2} :  } & \ctrl{1} & \ctrl{2} & \qw & \ctrl{3} &\qw & \qw\qwx[1] & \ctrl{3} &  \qw & \ctrl{2} & \ctrl{1} & \qw & \qw\\
\nghost{{q}_{9} :  } & \lstick{{q}_{s_2+1} :  } & \targ & \qw &  \qw &\qw & \qw & \ctrlo{1} &  \qw & \qw &\qw & \targ & \qw & \qw\\
\nghost{{q}_{10} :  } & \lstick{{q}_{s_2+2} :  } & \qw & \targ & \qw & \qw &\qw & \ctrlo{1}  & \qw &  \qw &\targ & \qw & \qw & \qw\\
     &   &   &    &   \raisebox{0.5em}{\vdots} & \qwx[1]  &\raisebox{0.5em}{\vdots} & \qwx[1]     &\qwx[1] & \raisebox{0.5em}{\vdots} &  &  &   & &   \\
\nghost{{q}_{11} :  } & \lstick{{q}_{s_m-1} :  } & \qw & \qw &  \qw &\targ &\qw & \ctrlo{1} & \targ & \qw &  \qw & \qw & \qw & \qw\\
 \text{\scriptsize{common~control~qubits}}   &   &   &    &    &    & \raisebox{0.5em}{\vdots}& \qwx[1]     & &  &  &   & &   \\
\nghost{{q}_{12} :  } & \lstick{{q}_{out} :  } & \qw & \qw &  \qw &\qw & \qw& \targ & \qw &  \qw & \qw & \qw & \qw & \qw \\
\\ }