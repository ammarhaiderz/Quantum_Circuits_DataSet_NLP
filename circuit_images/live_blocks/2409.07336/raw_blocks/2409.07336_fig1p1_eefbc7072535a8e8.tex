\begin{quantikz}[thin lines]
    \lstick{$\ket{0}$} & \gate{R_x(2^{1-n})}  & \ \cdots\ & \gate{R_x(2^{0})} & \gate{R_x(2^{1-n})}  & \ \cdots\ & \gate{R_x(2^{0})} & \ \cdots\ \\
    \lstick{$\ket{i_1}$} & \ctrl{-1} & \ \cdots\ & & & \ \cdots\ & & \ \cdots\ \\
    \lstick{$\vdots$} & \setwiretype{n} \\
    \lstick{$\ket{i_n}$} & &\ \cdots\ &\ctrl{-3} & & \ \cdots\ & & \ \cdots\ \\
    \lstick{$\ket{j_1}$} & & \ \cdots\ & & \ctrl{-4} & \ \cdots\ & & \ \cdots\ \\
    \lstick{$\vdots$} & \setwiretype{n} \\
    \lstick{$\ket{j_n}$} & & \ \cdots\ & & &\ \cdots\ &\ctrl{-6} &\ \cdots\
\end{quantikz}